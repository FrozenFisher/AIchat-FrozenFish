# BERT情感分析项目

基于BERT的中文情感分析模型，支持15种情感分类。

## 支持的情感类型

- 0: 高兴
- 1: 悲伤
- 2: 愤怒
- 3: 惊讶
- 4: 恐惧
- 5: 厌恶
- 6: 中性
- 7: 害羞
- 8: 兴奋
- 9: 舒适
- 10: 紧张
- 11: 爱慕
- 12: 委屈
- 13: 骄傲
- 14: 困惑

## 文件说明

- `finetune_data.py`: 训练数据，包含150个样本（每种情感10个）
- `train_model.py`: 模型训练脚本
- `test_bert_sentiment.py`: 模型测试脚本
- `validate_data.py`: 数据验证脚本
- `requirements.txt`: 项目依赖项

## 使用方法

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 验证数据

```bash
python validate_data.py
```

### 3. 训练模型

```bash
python train_model.py
```

### 4. 测试模型

```bash
python test_bert_sentiment.py
```

## 修复的问题

### train_model.py 修复内容：

1. **添加了验证集分割** - 使用 `train_test_split` 将数据分为训练集和验证集
2. **添加了评估指标** - 包含准确率、F1分数、精确率和召回率
3. **改进了训练参数** - 增加了warmup_steps、weight_decay等参数
4. **添加了错误处理** - 检查并创建输出目录
5. **添加了进度提示** - 显示训练和评估进度

### test_bert_sentiment.py 修复内容：

1. **使用相对路径** - 将硬编码的绝对路径改为相对路径
2. **添加了错误处理** - 检查模型文件是否存在，处理加载失败情况
3. **完善了测试用例** - 覆盖所有15种情感类型
4. **添加了边界情况测试** - 空字符串、长文本、特殊字符等
5. **改进了输出格式** - 更清晰的测试结果展示

### 新增功能：

1. **validate_data.py** - 数据质量验证脚本
2. **requirements.txt** - 依赖项管理
3. **README.md** - 项目说明文档

## 训练数据特点

- 总样本数：150个
- 每个情感标签：10个样本
- 数据平衡：所有情感类型样本数量相等
- 文本格式：包含动作描述和情感表达
- 标签范围：0-14（15种情感）

## 注意事项

1. 首次运行前请确保已安装所有依赖项
2. 训练需要一定时间，建议使用GPU加速
3. 模型文件会保存在 `./saved_model` 目录下
4. 训练日志会保存在 `./logs` 目录下
5. 训练结果会保存在 `./results` 目录下 